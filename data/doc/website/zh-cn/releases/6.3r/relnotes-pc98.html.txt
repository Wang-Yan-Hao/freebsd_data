FreeBSD/pc98 6.3-RELEASE 发行说明

The FreeBSD Project

版权 © 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007 The FreeBSD
Documentation Project

$FreeBSD: src/release/doc/zh_CN.GB2312/relnotes/common/new.sgml,v
1.5.2.12.4.2 2008/01/07 21:00:18 delphij Exp $

FreeBSD 是 FreeBSD基金会的注册商标

IBM、 AIX、 EtherJet、 Netfinity、 OS/2、 PowerPC、 PS/2、 S/390 以及
ThinkPad 是国际商用机器公司在美国和其他国家的注册商标或商标。

IEEE, POSIX, 和 802 是 Institute of Electrical and Electronics
Engineers, Inc. 在美国的注册商标。

Intel, Celeron, EtherExpress, i386, i486, Itanium, Pentium, 和 Xeon 是
Intel Corporation 及其分支机构在美国和其他国家的商标或注册商标。

Sparc, Sparc64, SPARCEngine, 以及 UltraSPARC 是 SPARC International, Inc
在美国和其他国家的商标。 包含 SPARC 商标的产品基于 Sun Microsystems,
Inc. 开发的架构。

许多制造商和经销商使用一些称为商标的图案或文字设计来彰显自己的产品。
本文档中出现的， 为 FreeBSD Project 所知晓的商标，后面将以 '™' 或 '®'
符号来标注。

　　这份 FreeBSD 6.3-RELEASE 的发行说明， 概括了 FreeBSD 基本系统在
6.3-STABLE 开发线上所做的改动。
本文档列举了自前一发行版本以来所有适用的安全公告， 以及对于 FreeBSD
内核以及系统附带的应用程序所做的重要修改。
对在升级时需要注意的一些问题， 也进行了简略的介绍。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

目录

1 简介

2 最新变动

2.1 安全公告

2.2 对内核的改动

2.2.1 引导区和 loader 的变化

2.2.2 硬件支持

2.2.3 网络协议

2.2.4 磁盘及存储

2.2.5 文件系统

2.3 应用程序变动

2.3.1 /etc/rc.d 脚本

2.4 基本系统包含的第三方软件

2.5 Ports/Packages Collection 基础结构

2.6 发行版建造工程和功能集成

2.7 文档

3 从先前版本的 FreeBSD 升级

1 简介

　　这篇文档包括了在 NEC PC-98x1 硬件平台上 FreeBSD 6.3-RELEASE
的发行说明。 它描述了最近刚刚加入、修改或删除了的 FreeBSD 特性的说明。
同时，它也将给出如何从先前的 FreeBSD 版本完成升级的说明。

　　这是一份 FreeBSD 6.3-RELEASE 的 release 发布包。 您可以从
ftp://ftp.FreeBSD.org/ 或其他镜像那里得到它的副本。 关于这个 (或其他)
release 发布包的更多信息，可以在 FreeBSD 手册 中的 “如何获得
FreeBSD”附录 中找到。

　　我们鼓励所有的用户在开始安装 FreeBSD
之前首先参考这一版本所对应的勘误信息。
勘误文档将随时更新，以便为用户提供在发布工程后期或该版本发布之后
“新发现的” 问题和相关信息。 通常，这包括已知的
bug，安全公告，以及对于文档的修订内容。 最新的 FreeBSD 6.3-RELEASE
勘误信息可以从 FreeBSD 网站获得。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2 最新变动

　　这一节描述了 FreeBSD 自 6.2-RELEASE 以来最明显的新功能和变化。

　　发行说明中的绝大多数条目是在说明自从 6.2-RELEASE
以来的安全公告、新的驱动程序或硬件支持、新的命令或是选项、
重要的错误修补，以及基本系统中来自第三方的软件升级。 重要的 ports 和
packages 变动，或关于交付工程的变动也会在这份文档中体现。
显而易见地，发行说明不可能涵盖 FreeBSD 版本之间的每一个微小变动；
这篇文档主要关注的，仍然是安全公告，用户可以察觉的修改，
以及重要的架构改良。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.1 安全公告

　　修正了两个BIND的远程拒绝服务问题（两者分别与DNSSEC和递归DNS查询有关）。更多信息，参看安全公告
FreeBSD-SA-07:02.bind.

　　现在可以通过 net.inet6.ip6.rthdr0_allowed
这个sysctl变量来控制IPv6类型0路由头信息的处理了，默认情况下该值为 0
（关闭）。更多信息，参看安全公告 FreeBSD-SA-07:03.ipv6.

　　有关 libarchive(3) 和 tar(1) 处理 损坏的 tar(5) 文件的问题已经修复。
更多信息，参看安全公告 FreeBSD-SA-07:05.libarchive.

　　OpenSSL中的一个缓冲区溢出（在上一个安全补丁中没有被正确修补）现在被修正了。
更多信息，参看安全公告 FreeBSD-SA-07:08.openssl.

　　一个可能导致“之前生成”的 random(4) 数据泄露的缺陷被修正。
更多信息，参看安全公告 FreeBSD-SA-07:09.random.

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.2 对内核的改动

　　 acpi(4) 现在支持 HPET 时间计数器。

　　对消息信号中断（Message Signaled Interrupts/MSI）
和扩展消息信号中断（Exteneded Message Signaled Interrupts/MSI-X）
的支持被加入内核的PCI支持代码中。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.2.1 引导区和 loader 的变化

　　

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.2.2 硬件支持

　　为支持通过ACPI控制笔记本扩展坞的功能， acpi_dock(4) 驱动被加入。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.2.2.1 多媒体支持

　　为支持Envy24系列音效芯片，加入 snd_envy24(4) 驱动。

　　为支持VIA Envy24HT系列音效芯片，加入 snd_envy24ht(4) 驱动。

　　加入了 snd_hda(4) 驱动。遵从Intel HD audio 特性
1.0版本的设备由此得到支持。

　　为支持I2S SPI音效解码芯片的，加入 snd_spicds(4) 驱动。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.2.2.2 网络接口设备支持

　　 ath(4) 驱动更新到了HAL 版本 0.9.20.3。

　　 axe(4) 驱动现在支持 altq(4) 了。

　　加入 cxgb(4) 驱动。该驱动提供对基于Chelsio T3 和 T3B芯片10 Gb
以太网卡的支持。

　　新增了用于支持 Ethernet discard 网络接口的 edsc(4) 驱动程序。

　　em(4) 升级到来自Intel的版本 6.7.2。

　　加入了 msk(4) 驱动。该驱动支持使用Marvell/SysKonnect Yukon II
千兆以太网控制器的网卡。

　　 vge(4) 现在可以支持 altq(4) 了。

　　为 802.11 协议栈增加了对 900 MHz 网卡， 以及对 802.11a
四分和对分频道支持的功能。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.2.3 网络协议

　　 if_bridge(4) 驱动现在支持RSTP，快速生成树协议（802.1w）。

　　加入从OpenBSD和NetBSD中引入的 lagg(4)
驱动，以支持多种协议和算法，比如链路聚合，线路互备以及网络容错。

　　新的 ng_deflate(4) NetGraph 节点类型被加入。这一类型支持了 Deflate
PPP 压缩。

　　早先的 ng_ppp(4) Netgraph 节点如今名为 MPSAFE.

　　新的 ng_pred1(4) NetGraph 节点类被加入以支持 Predictor-1 PPP 压缩。

　　导致FreeBSD 6.2-RELEASE 不能在 gif(4) 上正确运行IPv6的bug 被修正了。

　　sysctl变量net.link.tap.up_on_open 加入到 tap(4)
驱动中。当该变量被激活时，新的tap 设备将会在创建时标记为up。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.2.4 磁盘及存储

　　升级 mpt(4) 驱动以支持一系列新特性，诸如RAID卷以
及RAID成员的状态/设置报告，定期卷重同步状态报告，
设置重同步状态频率，卷成员写缓存状态，卷事务队列长度的sysctl开关等。

　　现在 mpt(4) 驱动支持 SAS HBA (部分地)，64-bit PCI, 以及大数据传送。

　　加入了 scsi_sg 驱动。这一驱动模拟了Linux SCSI SG passthrough
设备API的一个重要子集。这样将允许在Linux仿真下运行的程序（就像 原生
FreeBSD 程序那样）访问 /dev/sg* 这样的被Linux所支持的设备。

　　 twa(4) 驱动现在升级到3ware网站所公布的 3.60.03.006。
驱动现在增加了对 AMCC 的 3ware 9650 系列 SATA 控制器的支持。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.2.5 文件系统

　　重新实现了 unionfs 文件系统。相对于上一版本，
这次解决了很多崩溃和锁的问题。 同时， 本版本还增加了新的 “transparent”
与 “masquerade” 类型以在更高层的文件系统 union 上自动化创建文件。
您可参阅 mount_unionfs(8) 联机手册来了解进一步的信息。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.3 应用程序变动

　　 camcontrol(8) 工具现在支持 readcap 命令以显示设备尺寸。

　　导致 freebsd-update(8) 不能正确支持SMP内核的bug被修正了

　　 fdisk(8) 程序现在可以用 -p 参数来以fdisk 配置的格式打出 slice 表。

　　 freebsd-update(8) 工具现在可以支持以 upgrade 命令来在不同版本的
FreeBSD 间执行二进制升级。

　　 ftpd(8) 工具现在提供 RFC2389 (FEAT) 和初步的RFC2640 (UTF8)
支持。RFC2640支持是可选项，可以用新的-8开关来激活。 可以在 ftpd(8)
手册找到更多信息。

　　 加入了 ipfwpcap(8) 工具；该工具可以在 divert(4)
套接字上抓包并将数据以 pcap(3) （也就是 tcpdump(1)）
格式写入文件或管道中。

　　 rpc.lockd(8) 和 rpc.statd(8) 程序现在可以通过 -p
开关来指明绑定的端口。

　　pw(8) 程序现在可以通过 -M开关来设定新建用户时，其家目录的权限。

　　 top(1) program 现在可以用 -j开关以显示出每个进程的 jail(8) ID 。

　　 touch(1) 工具现在可以用-A开关，将文件的访问和修改时间修改为指定值
。

　　 加入了 wpa_passphrase(8)
工具。该工具以ASCII口令字生成256位的pre-shared（预共享）WPA 密钥。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.3.1 /etc/rc.d 脚本

　　在别名库不存在或者比别名文件旧的情况下，sendmail脚本也可以指定为不重建别名库。
如果真想这么做，设置rc.conf中sendmail_rebuild_aliases选项的值为"NO"来关闭这个功能。

　　/etc/rc.d/nfslocking脚本在发行版中会被移除。
由/etc/rc.d/lockd和/etc/rc.d/statd取代它。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.4 基本系统包含的第三方软件

　　awk从2005年4月24日版更新到2007年5月1日的发行版。

　　BIND从9.3.3更新到9.3.4-p1。

　　BZIP2从1.0.3更新到1.0.4。

　　GNU Diffutils从2.7更新到2.8.7。

　　GNU版的gzip被从NetBSD移植过来并经过修正的gzip替换。

　　IPFilter从4.1.13更新到4.1.28。

　　less从v381更新到v416。

　　ncurses从5.2-20020615更新到5.6-20061217。
新版的ncurses已经提供宽字符的支持。

　　netcat 从 2005 年 2 月 4 日的 OpenBSD 快照版本， 更新到了 OpenBSD
4.1 中附带的版本。

　　GNU Readline library从5.0更新到5.2 patch2。

　　sendmail从8.13.8更新到8.14.2。

　　timezone数据库从 tzdata2006g版更新到 tzdata2007k版.

　　TrustedBSD OpenBSM从1.0 alpha12更新到1.0。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.5 Ports/Packages Collection 基础结构

　　

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.6 发行版建造工程和功能集成

　　对GNOME桌面环境的支持 (x11/gnome2)从2.16.1更新到2.20.1。

　　对KDE桌面环境的支持 (x11/kde3)从3.5.4更新到3.5.7。

　　对Xorg窗口系统的支持 (x11/xorg)从6.9.0更新到7.3.0。

　　X11BASE的默认值由 /usr/X11R6变更为 /usr/local, 即LOCALBASE的默认值.

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2.7 文档

　　将 NTP 的联机手册更新到了 4.2.0， 以便与 FreeBSD
中包含的版本相适应。

　　

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

3 从先前版本的 FreeBSD 升级

　　通过源代码升级到 FreeBSD 6.3-RELEASE， 则应使用 FreeBSD 5.3-RELEASE
或更高版本。 使用旧版的系统的用户， 如果想要升级到 6.3-RELEASE，
则需要首先升级到 FreeBSD 5.3 或更新的版本， 然后再升级到 FreeBSD
6.3-RELEASE。

  重要: 很显然，升级 FreeBSD 时，应该首先备份 所有 数据和配置文件。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

这份文档，以及其他与FreeBSD发行版本有关的文档，都可以在
ftp://ftp.FreeBSD.org/下载。

在遇到关于FreeBSD的技术问题时，请首先阅读 文档 之后再考虑联系
<questions@FreeBSD.org>。

所有 FreeBSD 6.3-STABLE 的用户都应该订阅 <stable@FreeBSD.org> 邮件列表。

关于这份文档的任何问题，请致信 <doc@FreeBSD.org>。
