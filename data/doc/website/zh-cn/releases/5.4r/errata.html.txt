FreeBSD 5.4-RELEASE 发行版勘误

The FreeBSD Project

版权 © 2000, 2001, 2002, 2003, 2004, 2005, 2006 The FreeBSD
Documentation Project

$FreeBSD: src/release/doc/zh_CN.GB2312/errata/article.sgml,v
1.1.2.2.1000.1 2006/03/07 16:21:12 delphij Exp $

FreeBSD is a registered trademark of the FreeBSD Foundation.

Intel, Celeron, EtherExpress, i386, i486, Itanium, Pentium, and Xeon are
<<<<<<< HEAD

=======
trademarks or registered trademarks of Intel Corporation or its
subsidiaries in the United States and other countries.

Sparc, Sparc64, SPARCEngine, and UltraSPARC are trademarks of SPARC
International, Inc in the United States and other countries. Products
bearing SPARC trademarks are based upon architecture developed by Sun
Microsystems, Inc.

Many of the designations used by manufacturers and sellers to
distinguish their products are claimed as trademarks. Where those
designations appear in this document, and the FreeBSD Project was aware
of the trademark claim, the designations have been followed by the ``™''
or the ``®'' symbol.

------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

  这份文档列出了 FreeBSD 5.4-RELEASE 的勘误内容，
  其中包括在发行版发布之后发现的重大问题，
  以及在发行版的交付工程后期本应写进发行版文档，
  而没有来得及加入的重要信息。 这些信息可能包括安全公告，
  以及关于可能影响软件和文档的操作或可用性的新闻。 在安装此版本的
  FreeBSD 之前， 应首先阅读此文档的最新版本。

  这份 FreeBSD 5.4-RELEASE 的勘误文档将被持续地维护， 直到 FreeBSD 的
  5.5-RELEASE 发布为止。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

1 介绍

这份勘误文档包含了关于 FreeBSD 5.4-RELEASE 的 ``最新重大新闻''。
在安装这一版本之前，
参考这份文档以了解在发布之后已经发现并修正了哪些问题非常重要。

遂发行版本而发布的这份文档 (例如， 在 CDROM 上附带的)
一般来说已经过时了， 但在 Internet 上的其他副本会被持续更新，
因此应作为这一发行版的 ``最新勘误'' 来看待。 这些勘误文档的副本， 可以在
http://www.FreeBSD.org/releases/，
以及所有其他保持与其同步的镜像上找到。

FreeBSD 5-STABLE 的源代码和预编译形式的快照中， 也会包含本文档
(在制作快照时) 的最新版本。

全部 FreeBSD CERT 安全公告的列表， 可以在
http://www.FreeBSD.org/security/ 或
ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/ 找到。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

2 安全公告

下列安全公告与 FreeBSD 5.4-RELEASE 有关。 要了解进一步的信息， 请从
ftp://ftp.FreeBSD.org/pub/FreeBSD/CERT/advisories/ 下载并阅读安全公告。

+-------------+-------------+------------------------------------------+
| 安全公告    | 日期        | 主题                                     |
+=============+=============+==========================================+
| 06:10.nfs   | 2006 年     | 针对 NFS 服务器的远程拒绝服务攻击        |
|             |  3 月 1 日  |                                          |
+-------------+-------------+------------------------------------------+
| 06          | 2006 年     | 针对 OpenSSH 的远程拒绝服务攻击          |
| :09.openssh |  3 月 1 日  |                                          |
+-------------+-------------+------------------------------------------+
| 06:07.pf    | 2006 年     | pf(4) 中 IP 分片处理导致的 panic         |
|             |  1 月 25 日 |                                          |
+-------------+-------------+------------------------------------------+
| 06:03.cpio  | 2006 年     | 在 cpio(1) 中存在多处漏洞                |
|             |  1 月 11日  |                                          |
+-------------+-------------+------------------------------------------+
| 06:02.eex   | 2006 年     | ee(1) 临时文件特权提升                   |
|             |  1 月 11日  |                                          |
+-------------+-------------+------------------------------------------+
| 06:         | 2006 年     | Texindex 临时文件特权提升                |
| 01.texindex |  1 月 11日  |                                          |
+-------------+-------------+------------------------------------------+
| S           | 2005 年     | 使用 HTT 引致的信息泄露                  |
| A-05:09.htt |  5 月 22 日 |                                          |
+-------------+-------------+------------------------------------------+
| SA-05       | 2005 年     | 在 tcpdump 协议解码中的死循环            |
| :10.tcpdump |  6 月 9 日  |                                          |
+-------------+-------------+------------------------------------------+
| SA          | 2005 年     | gzip 目录遍历及权限竞态条件漏洞          |
| -05:11.gzip |  6 月 9 日  |                                          |
+-------------+-------------+------------------------------------------+
| SA          | 2005 年     | ipfw 地指表的包匹配差错                  |
| -05:13.ipfw |  6 月 29 日 |                                          |
+-------------+-------------+------------------------------------------+
| SA-         | 2005 年     | bzip2 拒绝服务和权限竞态条件漏洞         |
| 05:14.bzip2 |  6 月 29 日 |                                          |
+-------------+-------------+------------------------------------------+
| S           | 2005 年     | 针对挂起 TCP 连接的拒绝服务攻击          |
| A-05:15.tcp |  6 月 29 日 |                                          |
+-------------+-------------+------------------------------------------+
| SA          | 2005 年     | zlib 中的缓冲区溢出问题                  |
| -05:16.zlib |  7 月 6 日  |                                          |
+-------------+-------------+------------------------------------------+
| SA-         | 2005 年     | 绕过 devfs 规则                          |
| 05:17.devfs |  7 月 20 日 |                                          |
+-------------+-------------+------------------------------------------+
| SA          | 2005 年     | zlib 中的缓冲区溢出问题                  |
| -05:18.zlib |  7 月 27 日 |                                          |
+-------------+-------------+------------------------------------------+
| SA-         | 2005 年     | IPsec 对 AES-XCBC-MAC 密钥的不当使用     |
| 05:19.ipsec |  7 月 27 日 |                                          |
+-------------+-------------+------------------------------------------+

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

3 存在的问题

暂时还没有新的已知问题。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

4 重大新闻

(2005 年 5 月 6 日) 由于默认的 /dev/iir 设备节点权限设置失误，
使得非特权的本地用户能够向 iir(4) 驱动直接发送硬件指令。
尽管这一问题已经在 5.3-RELEASE 发布之前修正，
但这一修正已经来不及放到发行版说明中。 欲了解进一步的细节，
请参见安全公告 FreeBSD-SA-05:06.iir。

(2005 年 5 月 6 日) 修正了在 i386_get_ldt(2)
系统调用的输入参数验证部分存在一些问题，
它们可能使内核内存被泄露给用户进程。 尽管这一问题已经在 5.3-RELEASE
发布之前修正， 但这一修正已经来不及放到发行版说明中。
欲了解进一步的细节， 请参见安全公告 FreeBSD-SA-05:07.ldt。

(2005 年 5 月 6 日) 修正了导致多个内核内存的部分内容的问题。
尽管这一问题已经在 5.3-RELEASE 发布之前修正，
但这一修正已经来不及放到发行版说明中。 欲了解进一步的细节，
请参见安全公告 FreeBSD-SA-05:08.kmem。

(2005 年 6 月 24 日) FreeBSD/sparc64 5.4-RELEASE 应明示 FreeBSD/sparc64
GENERIC 内核在未来的 6.0-RELEASE 之前， 只提供对于串口控制台的正式支持。
对于 FreeBSD/sparc64 5.4-RELEASE GENERIC 内核而言更是如此，
因为能够提供优先的间接图形控制台支持的 ofw_console(4) 已经为 uart(4)
驱动所取代， 以期更好地支持串口。

由于这一限制， 在显示了 ``jumping to kernel entry at...''
消息之后屏幕会停止工作， 如果您使用 FreeBSD/sparc64 5.4-RELEASE GENERIC
内核配合图形控制台， 这一状态会持续到 FreeBSD 本身继续执行为止。

如果一定要使用 FreeBSD/sparc64 来配合图形控制台， 您可采取下列措施：

-   如果您的计算机装配了 Sun Creator、 Sun Creator3D， 或 Sun Elite3D
    帧缓存卡， 并使用了 Sun RS232 键盘， 则可以使用串口控制台安装
    FreeBSD/sparc64 5.4-RELEASE
    并在随后使用包含下列选项的内核编译配置文件来编译定制的内核：

        device          sc
        device          creator
        options         KBD_INSTALL_CDEV

    除此之外， 您还需要在 /etc/ttys 中启用 tty[1-7] 项， 类似下面这样：

        ttyv0   "/usr/libexec/getty Pc"         cons25  on  secure
        # Virtual terminals
        ttyv1   "/usr/libexec/getty Pc"         cons25  on  secure
        ttyv2   "/usr/libexec/getty Pc"         cons25  on  secure
        ttyv3   "/usr/libexec/getty Pc"         cons25  on  secure
        ttyv4   "/usr/libexec/getty Pc"         cons25  on  secure
        ttyv5   "/usr/libexec/getty Pc"         cons25  on  secure
        ttyv6   "/usr/libexec/getty Pc"         cons25  on  secure
        ttyv7   "/usr/libexec/getty Pc"         cons25  on  secure

    这些配置将提供针对这些键盘， 以及 VTY 切换和 X 视窗系统的内建支持。
    请注意这些配置需要使用不低于 FreeBSD/sparc64 5.4-RELEASE 的版本，
    否则在绝大多数型号的 UltraSPARC 上都将无法正常工作。

-   如果您的计算机装配了 ATI Mach64 帧缓存卡 (见于 Sun Blade 100/150
    以及 Sun Ultra 5/10 和 Sun PGX8 以及 Sun PGX64 附加卡) 或 PS/2 或
    USB 键盘， 就必须升级到 FreeBSD/sparc64 6.0 在 2005 年 6 月 10
    日之后的版本。 如果您使用标准的 GENERIC 内核以及 /etc/ttys
    则不需要做任何额外的操作就可以正常工作了。

    这些配置将提供针对这些键盘以及帧缓存， 以及 VTY 切换和 X
    视窗系统的内建支持。

-   如果您的计算机装配了其他硬件， 或者不愿意升级到 FreeBSD/sparc64
    6.0， 您可以重新启用 ofw_console(4) 驱动作为最后方案，
    方法是增加下列选项并重新联编定制的内核：

        device          ofw_console
        device          sab
        device          zs

    注意需要注释掉下列设置：

        device          uart

    这些操作将提供有限的对于图形控制台硬件的间接支持， 但其性能很不好，
    而且 VTY 切换和 X 视窗系统无法与其一同使用。 请注意 ofw_console(4)
    并非 MPSAFE 因此在某些特定的情况下， 可能会导致系统崩溃。

关于如何重新编译内核或升级到 FreeBSD 6.0 的信息， 请参见 FreeBSD
使用手册中的 配置 FreeBSD 内核 以及 最前沿 章节。

<<<<<<< HEAD
=======
------------------------------------------------------------------------
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

这份文档，以及其他与FreeBSD发行版本有关的文档，都可以在
ftp://ftp.FreeBSD.org/下载。

在遇到关于FreeBSD的技术问题时，请首先阅读 文档 之后再考虑联系
<questions@FreeBSD.org>。

所有 FreeBSD 5-STABLE 的用户都应该订阅 <stable@FreeBSD.org> 邮件列表。

关于这份文档的任何问题，请致信 <doc@FreeBSD.org>。
