[FreeBSD The Power to Serve]

Donate to FreeBSD

 

-   Home

-   About
    -   Introduction
    -   Features
    -   Advocacy
    -   Marketing
    -   Privacy Policy
    -   Projects
    -   Ports

-   Get FreeBSD
    -   Release Information
    -   Release Engineering

-   Documentation
    -   FAQ
    -   Handbook
    -   Porter's Handbook
    -   Developer's Handbook
    -   Committer's Guide
    -   Manual Pages
    -   Presentations and Papers
    -   Documentation Project Primer
    -   All Books and Articles

-   Community
    -   Mailing Lists
    -   Forums
    -   User Groups
    -   Events
    -   FreeBSD Journal
    -   Q&A (external)

-   Developers
    -   Project Ideas
    -   Git Repository
    -   Subversion Repository
    -   GitHub Mirror
    -   Code Review (Phabricator)
    -   Wiki
    -   Continuous Integration Service

-   Support
    -   Vendors
    -   Security Information
    -   Bug Reports
    -   Submitting Bug Reports
<<<<<<< HEAD
=======
    -   Web Resources

-   Foundation
    -   Monetary Donations
    -   Hardware Donations

-   About
-   Features
-   Applications
-   Advocacy
-   Marketing
-   Administration
-   News
-   Events
-   Press
-   Artwork
-   Logo
-   Donations
-   Legal Notices
-   Privacy Policy

Enabling Snapshots on Filesystems Using Journaled Soft Updates

Links:
Milestone 1 Core Changes URL: https://reviews.freebsd.org/D36491

Contact: Kirk McKusick <mckusick@FreeBSD.org>

This project will make UFS/FFS filesystem snapshots available when
running with journaled soft updates.

The UFS/FFS filesystem has the ability to take snapshots. Because the
taking of snapshots was added after soft updates were written they were
fully integrated with soft updates. When journaled soft updates were
added in 2010, they were never integrated with snapshots. So snapshots
cannot be used on filesystems running with journaled soft updates.

Snapshots became less important with the support for ZFS on FreeBSD
since ZFS can take snapshots quickly and easily. However there remain
two instances where UFS snapshots are still important. The first is that
they allow reliable dumps of live filesystems which avoids possibly
hours of down time. The second is that they allow the running of
background fsck. Similar to the need for scrub in ZFS, fsck needs to be
run periodically to find undetected disk failures. Snapshots allow fsck
to be run on live filesystems rather than needing to schedule down time
to run it.

This project has two milestones:

1.  enable snapshots when running with journaled soft updates and ensure
    that they can be used for doing background dumps on a live
    filesystem. This milestone should be completed by the end of 2022.

2.  extend fsck_ffs to be able to do a background check using a snapshot
    on a filesystem running with journaled soft updates. This milestone
    is expected by Q3 of 2023.

Sponsored by: The FreeBSD Foundation

------------------------------------------------------------------------

Last modified on: October 20, 2022 by Maxim Konovalov

Legal Notices | © 1995-2023 The FreeBSD Project All rights reserved. The
mark FreeBSD is a registered trademark of The FreeBSD Foundation and is
used by The FreeBSD Project with the permission of The FreeBSD
Foundation. Contact
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)
