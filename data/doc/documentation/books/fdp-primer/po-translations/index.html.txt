
-    Preface
    -   Shell Prompts
    -   Typographic Conventions
    -   Notes, Tips, Important Information, Warnings, and Examples
    -   Acknowledgments
-    Chapter 1. Overview
    -   1.1. Documentation in the FreeBSD Ecosystem
    -   1.2. Quick Start
    -   1.3. The FreeBSD Documentation Set
-    Chapter 2. Tools
    -   2.1. Required Tools
    -   2.2. Optional Tools
-    Chapter 3. The Working Copy
    -   3.1. Documentation and Manual Pages
    -   3.2. Choosing a Directory
    -   3.3. Checking Out a Copy
    -   3.4. Updating a Working Copy
    -   3.5. Reverting Changes
    -   3.6. Making a Diff
    -   3.7. Git References
-    Chapter 4. Documentation Directory Structure
    -   4.1. The Top Level, doc/
    -   4.2. The Directories
    -   4.3. Document-Specific Information
    -   4.4. The Books: books/
    -   4.5. The Articles: articles/
-    Chapter 5. The FreeBSD Documentation Build Process
    -   5.1. Rendering AsciiDoc into Output
    -   5.2. The FreeBSD Documentation Build Toolset
    -   5.3. Understanding the Makefile in the Documentation Tree
-    Chapter 6. AsciiDoctor Primer
    -   6.1. Overview
    -   6.2. Headings
    -   6.3. Paragraphs
    -   6.4. Lists
    -   6.5. Links
    -   6.6. Conclusion
-    Chapter 7. Rosetta Stone
    -   7.1. Comparison between Docbook and AsciiDoc
-    Chapter 8. Translations
    -   8.1. What do i18n and l10n mean?
    -   8.2. Is there a mailing list for translators?
    -   8.3. Are more translators needed?
    -   8.4. What languages do I need to know?
    -   8.5. What software do I need to know?
    -   8.6. How do I find out who else might be translating to the same
        language?
    -   8.7. No one else is translating to my language. What do I do?
    -   8.8. I have translated some documentation, where do I send it?
    -   8.9. I am the only person working on translating to this
        language, how do I submit my translation?
    -   8.10. Can I include language or country specific text in my
        translation?
-    Chapter 9. PO Translations
    -   9.1. Introduction
    -   9.2. Quick Start
    -   9.3. Creating New Translations
    -   9.4. Translating
    -   9.5. Tips for Translators
    -   9.6. Building a Translated Document
    -   9.7. Submitting the New Translation
-    Chapter 10. Weblate Translations
    -   10.1. Introduction
    -   10.2. How to Become a FreeBSD Translator
    -   10.3. Introduce Yourself
    -   10.4. Login to Weblate
    -   10.5. Find a Language Team to Join In
    -   10.6. Translating Online on Weblate
    -   10.7. Translating Offline
    -   10.8. Translation based on Automatic Suggestions
    -   10.9. Proofreading and Weblate Quality Checks
    -   10.10. Building the Translated Document
    -   10.11. Submitting Translations
    -   10.12. FAQ (Frequently Asked Questions)
-    Chapter 11. Manual Pages
    -   11.1. Introduction
    -   11.2. Sections
    -   11.3. Markup
    -   11.4. Sample Manual Page Structures
    -   11.5. Testing
    -   11.6. Example Manual Pages to Use as Templates
<<<<<<< HEAD
=======
    -   11.7. Resources
-    Chapter 12. Writing Style
    -   12.1. Tips
    -   12.2. Guidelines
    -   12.3. Style Guide
    -   12.4. One sentence per line
    -   12.5. Acronyms
    -   12.6. Special Character List
    -   12.7. Linting with Vale
-    Chapter 13. Editor Configuration
    -   13.1. Vim
    -   13.2. Emacs
    -   13.3. nano
-    Chapter 14. Trademarks
    -   14.1. Trademark Symbols
    -   14.2. Trademark Citing
-    Chapter 15. See Also
    -   15.1. The FreeBSD Documentation Project
    -   15.2. Hugo
    -   15.3. AsciiDoctor
    -   15.4. HTML
-    Appendix A. Examples
    -   A.1. AsciiDoctor book
    -   A.2. AsciiDoctor article
-   

Book menu

Chapter 9. PO Translations

Table of Contents

-   9.1. Introduction
-   9.2. Quick Start
-   9.3. Creating New Translations
-   9.4. Translating
-   9.5. Tips for Translators
-   9.6. Building a Translated Document
-   9.7. Submitting the New Translation

9.1. Introduction

The GNU gettext system offers translators an easy way to create and
maintain translations of documents. Translatable strings are extracted
from the original document into a PO (Portable Object) file. Translated
versions of the strings are entered with a separate editor. The strings
can be used directly or built into a complete translated version of the
original document.

9.2. Quick Start

The procedure shown in Quick Start is assumed to have already been
performed. The TRANSLATOR option is required and already enabled by
default in the textproc/docproj port.

This example shows the creation of a Spanish translation of the short
Leap Seconds article.

Procedure: Install a PO Editor

1.  A PO editor is needed to edit translation files. This example uses
    editors/poedit.

        # pkg install poedit

Procedure: Initial Setup

When a new translation is first created, the directory structure must be
created or copied from the English original:

1.  Create a directory for the new translation. The English article
    source is in ~/doc/documentation/content/en/articles/leap-seconds/.
    The Spanish translation will go in
    ~/doc/documentation/content/es/articles/leap-seconds/. The path is
    the same except for the name of the language directory. The English
    article source is in ~/doc/en/articles/leap-seconds/. The Spanish
    translation will go in ~/doc/es/articles/leap-seconds/. The path is
    the same except for the name of the language directory.

        % mkdir ~/doc/documentation/content/es/articles/leap-seconds

2.  Copy the _index.po from the original document into the translation
    directory:

        % cp ~/doc/documentation/content/en/articles/leap-seconds/_index.po \
          ~/doc/documentation/content/es/articles/leap-seconds/

Suppose the document or language is also being translated via Weblate.
In that case, it is good to get the .po file from there and upload the
translation document back into the platform, centralizing the
translating efforts via Weblate to avoid rework.

See how to download the .po files in the Translating Offline on Weblate
chapter.

Procedure: Translation

Use a PO editor to enter translations in the PO file. There are several
different editors available. poedit from editors/poedit is shown here.

    % poedit documentation/content/es/articles/leap-seconds/_index.po

Procedure: Generating a Translated Document

1.  Generate the translated document:

        % cd ~/doc
        % ./tools/translate.sh documentation es articles/leap-seconds

    The name of the generated document matches the name of the English
    original, usually _index.adoc.

2.  Check the generated file by rendering it to HTML and viewing it with
    a web browser:

        % cd ~/doc/documentation
        % make

9.3. Creating New Translations

The first step to creating a new translated document is locating or
creating a directory to hold it. FreeBSD puts translated documents in a
subdirectory named for their language and region in the format lang.
lang is a two-character lowercase code.

+----------------------+----------------------+-----------------------+
| Language             | Region               | Translated Directory  |
|                      |                      | Name                  |
+======================+======================+=======================+
| English              | United States        | en                    |
+----------------------+----------------------+-----------------------+
| Bengali              | Bangladesh           | bn-bd                 |
+----------------------+----------------------+-----------------------+
| Danish               | Denmark              | da                    |
+----------------------+----------------------+-----------------------+
| German               | Germany              | de                    |
+----------------------+----------------------+-----------------------+
| Greek                | Greece               | el                    |
+----------------------+----------------------+-----------------------+
| Spanish              | Spain                | es                    |
+----------------------+----------------------+-----------------------+
| French               | France               | fr                    |
+----------------------+----------------------+-----------------------+
| Hungarian            | Hungary              | hu                    |
+----------------------+----------------------+-----------------------+
| Italian              | Italy                | it                    |
+----------------------+----------------------+-----------------------+
| Japanese             | Japan                | ja                    |
+----------------------+----------------------+-----------------------+
| Korean               | Korea                | ko                    |
+----------------------+----------------------+-----------------------+
| Mongolian            | Mongolia             | mn                    |
+----------------------+----------------------+-----------------------+
| Dutch                | Netherlands          | nl                    |
+----------------------+----------------------+-----------------------+
| Polish               | Poland               | pl                    |
+----------------------+----------------------+-----------------------+
| Portuguese           | Brazil               | pt-br                 |
+----------------------+----------------------+-----------------------+
| Russian              | Russia               | ru                    |
+----------------------+----------------------+-----------------------+
| Turkish              | Turkey               | tr                    |
+----------------------+----------------------+-----------------------+
| Chinese              | China                | zh-cn                 |
+----------------------+----------------------+-----------------------+
| Chinese              | Taiwan               | zh-tw                 |
+----------------------+----------------------+-----------------------+

: Table 1. Language Names

The translations are in subdirectories of the main documentation
directory, here assumed to be ~/doc/documentation/ as shown in Quick
Start. For example, German translations are located in
~/doc/documentation/content/de/, and French translations are in
~/doc/documentation/content/fr/.

Each language directory contains separate subdirectories named for the
type of documents, usually articles/ and books/.

Combining these directory names gives the complete path to an article or
book. For example, the French translation of the NanoBSD article is in
~/doc/documentation/content/fr/articles/nanobsd/, and the Mongolian
translation of the Handbook is in
~/doc/documentation/content/mn/books/handbook/.

A new language directory must be created when translating a document to
a new language. If the language directory already exists, only a
subdirectory in the articles/ or books/ directory is needed.

Example 1. Creating a Spanish Translation of the Porter’s Handbook

Create a new Spanish translation of the Porter’s Handbook. The original
is a book in ~/doc/documentation/content/en/books/porters-handbook/.

1.  The Spanish language books directory
    ~/doc/documentation/content/es/books/ already exists, so only a new
    subdirectory for the Porter’s Handbook is needed:

        % cd ~/doc/documentation/content/es/books
        % mkdir porters-handbook

2.  Copy the content from the original book:

        % cd porters-handbook
        % cp -R ~/doc/documentation/content/en/books/porters-handbook/* .

    Now the document structure is ready for the translator to begin
    translating with po4a command.

9.4. Translating

The gettext system greatly reduces the number of things that must be
tracked by a translator. Strings to be translated are extracted from the
original document into a PO file. Then a PO editor is used to enter the
translated versions of each string.

The FreeBSD PO translation system does not overwrite PO files, so the
extraction step can be run at any time to update the PO file.

A PO editor is used to edit the file. editors/poedit is shown in these
examples because it is simple and has minimal requirements. Other PO
editors offer features to make the job of translating easier. The Ports
Collection offers several of these editors, including devel/gtranslator.

It is important to preserve the PO file. It contains all of the work
that translators have done.

+-----------------------------------+-----------------------------------+
|                                   | Translating documents online      |
|                                   | proves to be the easiest method   |
|                                   | for document translation on       |
|                                   | FreeBSD, as it allows multiple    |
|                                   | users to collaborate on the same  |
|                                   | file, distributing the workload   |
|                                   | effectively. For more details,    |
|                                   | please refer to the next chapter, |
|                                   | Weblate Translations.             |
+-----------------------------------+-----------------------------------+

9.5. Tips for Translators

9.5.1. Preserving AsciiDoc macros

Preserve AsciiDoc macros that are shown in the English original.

Example 2. Preserving AsciiDoc macros

English original:

    msgid ""
    "This example shows the creation of a Spanish translation of the short "
    "extref:{leap-seconds}[Leap Seconds] article."

Spanish translation:

    msgid ""
    "Este ejemplo muestra la creación de un artículo con poco contenido como el artículo "
    "extref:{leap-seconds}[Leap Seconds]."

9.5.2. Preserving Spaces

Preserve existing spaces at the beginning and end of strings to be
translated. The translated version must have these spaces also.

9.5.3. Verbatim Tags

The contents of some tags should be copied verbatim, not translated:

-   man(1)

-   package

-   link

-   image

-   include

-   Admonitions

-   id’s

-   Heading tags

-   source

9.6. Building a Translated Document

A translated version of the original document can be created at any
time. Any untranslated portions of the original will be included in
English in the resulting document. Most PO editors have an indicator
that shows how much of the translation has been completed. This makes it
easy for the translator to see when enough strings have been translated
to make building the final document worthwhile.

The Weblate chapter provides a complete example of how to Build the
Translated Document.

9.7. Submitting the New Translation

Prepare the new translation files for submission. This includes adding
the files to the version control system, setting additional properties
on them, then creating a diff for submission.

The diff files created by these examples can be attached to a
documentation bug report or code review.

Example 3. Spanish Translation of the NanoBSD Article

1.  Create a diff of the new files from the ~/doc/ base directory so the
    full path is shown with the filenames. This helps committers
    identify the target language directory.

        % cd ~/doc
        % git diff documentation/content/es/articles/nanobsd/ > /tmp/es_nanobsd.diff

The Weblate chapter provides a complete example of how to Submit the New
Translation.

------------------------------------------------------------------------

Last modified on: June 19, 2023 by Danilo G. Baio

Prev

Home

Next

Table of Contents

-   9.1. Introduction
-   9.2. Quick Start
-   9.3. Creating New Translations
-   9.4. Translating
-   9.5. Tips for Translators
-   9.6. Building a Translated Document
-   9.7. Submitting the New Translation

------------------------------------------------------------------------

Resources

-   Download PDF
-   Edit this page
>>>>>>> b1bb5fd9 (Processing txt files in data/doc)

